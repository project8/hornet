

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>AMQP &mdash; hornet v1.0.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="hornet v1.0.0 documentation" href="../index.html"/>
        <link rel="up" title="Modules" href="modules.html"/>
        <link rel="next" title="Classifier" href="classifier.html"/>
        <link rel="prev" title="Modules" href="modules.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> hornet
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../hornet.html">Hornet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hornet.html#basic-operation">Basic Operation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hornet.html#organization">Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hornet.html#repository">Repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hornet.html#logging">Logging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Hornet Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts.html#directory-structure">Directory Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../concepts.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../concepts.html#file-header-information">File Header Information</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authentication.html">Authentication</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">AMQP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sending-to-hornet">Sending to Hornet</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="classifier.html">Classifier</a><ul>
<li class="toctree-l3"><a class="reference internal" href="classifier.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="classifier.html#regular-expression-matching">Regular Expression Matching</a></li>
<li class="toctree-l3"><a class="reference internal" href="classifier.html#sending-file-information">Sending File Information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="logging.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mover.html">Mover</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mover.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scheduler.html">Scheduler</a><ul>
<li class="toctree-l3"><a class="reference internal" href="scheduler.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="scheduler.html#scheduling-workers">Scheduling Workers</a></li>
<li class="toctree-l3"><a class="reference internal" href="scheduler.html#inter-module-communication">Inter-Module Communication</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="shipper.html">Shipper</a><ul>
<li class="toctree-l3"><a class="reference internal" href="shipper.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="watcher.html">Watcher</a><ul>
<li class="toctree-l3"><a class="reference internal" href="watcher.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="workers.html">Workers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workers.html#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="workers.html#job-commands">Job Commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="workers.html#chaining-jobs-the-reliable-way">Chaining Jobs the Reliable Way</a></li>
<li class="toctree-l3"><a class="reference internal" href="workers.html#chaining-jobs-the-possibly-not-so-reliable-way">Chaining Jobs the Possibly-Not-So-Reliable Way</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">hornet</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="modules.html">Modules</a> &raquo;</li>
      
    <li>AMQP</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/modules/amqp.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="amqp">
<h1>AMQP<a class="headerlink" href="#amqp" title="Permalink to this headline">¶</a></h1>
<p>Communication between Hornet and the other pieces of data-acquisition software is conducted via the AMQP 0.9.1 protocol.  In Hornet, this is used for the following purposes:</p>
<ul class="simple">
<li>Receiving remote commands (e.g. to quit);</li>
<li>Sending file information to the database</li>
</ul>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python"><div class="highlight"><pre>&quot;amqp&quot;:
{
    &quot;active&quot;: true,
    &quot;use-auth&quot;: true,
    &quot;broker&quot;: &quot;my.server&quot;,
    &quot;port&quot;: 5672,
    &quot;exchange&quot;: &quot;requests&quot;,
    &quot;queue&quot;: &quot;hornet&quot;
}
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">active</span></code> (boolean): Determines whether or not AMQP communication is used.  If false, commands can not be received, and file information will not be sent.</li>
<li><code class="docutils literal"><span class="pre">use-auth</span></code> (boolean): Determines whether user/password authentication is used.</li>
<li><code class="docutils literal"><span class="pre">broker</span></code> (string): The address of the AMQP broker that should be used.</li>
<li><code class="docutils literal"><span class="pre">port</span></code> (unsigned int; optional): The port used to connect to the AMQP broker; Default is 5672.</li>
<li><code class="docutils literal"><span class="pre">exchange</span></code> (string): The name of the exchange that the receiver should listen to (and create, if it doesn&#8217;t already exist).</li>
<li><code class="docutils literal"><span class="pre">queue</span></code> (string): The name of the queue that will be used to receive messages.  Any messages sent with this queue name as the first element of the routing key will be received by Hornet.  To specify the destination within hornet, further elements of the routing key should be used (see below).</li>
</ul>
</div>
<div class="section" id="sending-to-hornet">
<h2>Sending to Hornet<a class="headerlink" href="#sending-to-hornet" title="Permalink to this headline">¶</a></h2>
<p>Hornet&#8217;s AMQP receiver will create a queue with the name specified in the configuration.  Hornet is actually listening for messages with any routing key that starts with that name (<strong>(dev)</strong> it is subscribed to <code class="docutils literal"><span class="pre">[queue</span> <span class="pre">name].#</span></code>).  The following routing keys are available:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">[queue</span> <span class="pre">name].print-message</span></code>: prints the incoming message to the terminal</li>
<li><code class="docutils literal"><span class="pre">[queue</span> <span class="pre">name].quit-mantis</span></code>: causes mantis to cleanly shutdown</li>
</ul>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="classifier.html" class="btn btn-neutral float-right" title="Classifier" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.html" class="btn btn-neutral" title="Modules" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, J. Kofron and N.S. Oblath.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'v1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>